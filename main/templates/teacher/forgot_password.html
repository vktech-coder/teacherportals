<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Reset Password</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gradient-to-br from-blue-100 to-blue-300 flex items-center justify-center h-screen">
  <div class="bg-white p-6 rounded-lg shadow max-w-md w-full">
    <h2 class="text-xl font-semibold text-blue-600 mb-4">Reset Password</h2>

    {% if error %}
      <p class="text-red-500 mb-4">{{ error }}</p>
    {% endif %}
    {% if success %}
      <p class="text-green-600 mb-4">{{ success }}</p>
    {% endif %}

    <form method="POST">
      {% csrf_token %}

      {% if not show_password_fields %}
        <!-- Step 1: Enter username -->
        <input type="text" name="username" placeholder="Enter Username" required
          class="w-full px-4 py-2 border rounded mb-4">
        <button type="submit"
          class="bg-blue-600 w-full py-2 text-white rounded hover:bg-blue-700">Verify</button>

      {% else %}
        <!-- Step 2: Password update -->
        <input type="password" name="old_password" placeholder="Old Password" required
          class="w-full px-4 py-2 border rounded mb-3">

        <input type="password" name="new_password" placeholder="New Password" required
          class="w-full px-4 py-2 border rounded mb-3">

        <input type="password" name="confirm_password" placeholder="Confirm Password" required
          class="w-full px-4 py-2 border rounded mb-4">

        <button type="submit"
          class="bg-blue-600 w-full py-2 text-white rounded hover:bg-blue-700">Change Password</button>
      {% endif %}
    </form>
  </div>
</body>
</html>
